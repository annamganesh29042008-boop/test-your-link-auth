<!DOCTYPE html>
<html lang=\"en\">
<head>
<meta charset=\"utf-8\">
<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">
<title>Login â€” TEST YOUR LINK</title>
<link rel=\"icon\" href=\"data:,\">
<style>
  body{font-family:Arial, system-ui; background:#f4f6fb; margin:0;}
  .wrap{max-width:420px; margin:48px auto; background:#fff; padding:24px; border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.06)}
  h1{margin:0 0 6px}
  .muted{color:#667085; font-size:13px; margin-bottom:16px}
  input{width:100%; padding:12px; border:1px solid #e4e7ec; border-radius:10px; margin:8px 0; font-size:14px}
  button{width:100%; padding:12px; border:0; border-radius:10px; background:#111827; color:#fff; cursor:pointer; font-weight:600}
  .link{display:block; text-align:center; margin-top:10px; color:#111827; text-decoration:none}
  .err{background:#ffe6e6; color:#7a0c0c; border:1px solid #f2caca; padding:10px; border-radius:8px; font-size:13px; display:none; margin:6px 0}
</style>
</head>
<body>
<div class=\"wrap\">
  <h1>Log in</h1>
  <div class=\"muted\">Enter your email and password.</div>
  <div id=\"msgErr\" class=\"err\"></div>
  <input id=\"email\" type=\"email\" placeholder=\"Email\" autocomplete=\"email\">
  <input id=\"pass\" type=\"password\" placeholder=\"Password\" autocomplete=\"current-password\">
  <button id=\"loginBtn\">Log in</button>
  <a class=\"link\" href=\"signup.html\">Create a new account</a>
</div>

<script src=\"https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js\"></script>
<script src=\"https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js\"></script>
<script src=\"firebase.js\"></script>
<script>
const emailEl = document.getElementById('email');
const passEl = document.getElementById('pass');
const btn = document.getElementById('loginBtn');
const msgErr = document.getElementById('msgErr');

function showErr(t){ msgErr.textContent=t; msgErr.style.display='block'; }

window.firebaseAuth.onAuthStateChanged(u => {
  if(u){ window.location.href='home.html'; }
});

btn.onclick = async () => {
  const email = emailEl.value.trim();
  const pass = passEl.value;
  if(!email){ return showErr('Enter email'); }
  if(!pass){ return showErr('Enter password'); }
  try{
    await window.firebaseAuth.signInWithEmailAndPassword(email, pass);
    window.location.href = 'home.html';
  }catch(e){
    console.error(e);
    let m = e.message || String(e);
    if(e.code === 'auth/invalid-credential' || e.code === 'auth/wrong-password'){ m = 'Invalid email or password.'; }
    if(e.code === 'auth/user-not-found'){ m = 'No account found with this email.'; }
    showErr(m);
  }
};
</script>
</body>
</html>
